<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>互動式化學元素週期表 - 維基圖片強化版</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;700&display=swap');
        
        body {
            font-family: 'Noto Sans TC', sans-serif;
            background-color: #0f172a;
            color: #f8fafc;
        }

        .periodic-container {
            padding: 20px;
            min-width: 1200px;
        }

        .periodic-grid {
            display: grid;
            grid-template-columns: repeat(18, minmax(0, 1fr));
            gap: 4px;
        }

        .f-block-grid {
            display: grid;
            grid-template-columns: repeat(15, minmax(0, 1fr));
            gap: 4px;
        }

        .element-card {
            aspect-ratio: 1 / 1;
            border-radius: 6px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.25s ease;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.08);
        }

        .element-card:hover {
            transform: translateY(-5px) scale(1.2);
            z-index: 50;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.5), 0 0 15px rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* 元素分類配色 */
        .nonmetal { background-color: #166534; }
        .noble-gas { background-color: #6b21a8; }
        .alkali-metal { background-color: #991b1b; }
        .alkaline-earth { background-color: #9a3412; }
        .metalloid { background-color: #155e75; }
        .halogen { background-color: #854d0e; }
        .post-transition { background-color: #065f46; }
        .transition-metal { background-color: #1e40af; }
        .lanthanide { background-color: #831843; }
        .actinide { background-color: #9f1239; }

        .modal-backdrop {
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px);
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background-color: #475569; border-radius: 10px; }
    </style>
</head>
<body class="p-6">

    <header class="text-center mb-10">
        <h1 class="text-4xl font-extrabold mb-3 tracking-tight">互動式化學元素週期表</h1>
        <div class="flex justify-center gap-6 text-xs text-slate-400">
            <span class="flex items-center gap-1"><i class="w-3 h-3 nonmetal rounded-full"></i> 非金屬</span>
            <span class="flex items-center gap-1"><i class="w-3 h-3 noble-gas rounded-full"></i> 惰性氣體</span>
            <span class="flex items-center gap-1"><i class="w-3 h-3 transition-metal rounded-full"></i> 過渡金屬</span>
            <span class="flex items-center gap-1"><i class="w-3 h-3 alkali-metal rounded-full"></i> 鹼金屬</span>
        </div>
    </header>

    <div class="overflow-x-auto">
        <div class="periodic-container max-w-7xl mx-auto">
            <!-- 1-7 週期主表 -->
            <div id="main-table" class="periodic-grid mb-12"></div>
            
            <!-- F區塊標籤 -->
            <div class="flex justify-center mb-6">
                <div class="w-[83.33%] border-t border-slate-700 pt-4 text-center">
                    <span class="text-[10px] text-slate-500 uppercase tracking-widest">鑭系與錒系元素 (Lanthanides & Actinides)</span>
                </div>
            </div>

            <!-- F區塊 2x15 -->
            <div class="flex justify-center">
                <div id="f-block-table" class="f-block-grid w-[83.33%]"></div>
            </div>
        </div>
    </div>

    <!-- 彈窗 -->
    <div id="modal" class="fixed inset-0 z-50 hidden flex items-center justify-center p-4">
        <div class="modal-backdrop absolute inset-0" onclick="closeModal()"></div>
        <div class="bg-slate-800 w-full max-w-4xl rounded-[2rem] shadow-2xl relative overflow-hidden flex flex-col md:flex-row max-h-[90vh]">
            
            <button onclick="closeModal()" class="absolute top-6 right-6 text-white/50 hover:text-white z-30 bg-black/30 p-2 rounded-full backdrop-blur-md">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>

            <!-- 側邊 -->
            <div id="modal-side" class="w-full md:w-1/3 p-12 flex flex-col items-center justify-center text-center transition-all duration-700">
                <span id="m-number" class="text-4xl font-bold opacity-30 mb-2"></span>
                <span id="m-symbol" class="text-9xl font-black mb-4 drop-shadow-2xl"></span>
                <h2 id="m-name-zh" class="text-6xl font-bold mb-2"></h2>
                <p id="m-name-en" class="text-xl opacity-60 uppercase tracking-tighter font-light"></p>
            </div>

            <!-- 詳細資訊 -->
            <div class="w-full md:w-2/3 p-10 bg-slate-900 overflow-y-auto custom-scrollbar">
                <div class="space-y-12">
                    <!-- 圖片 -->
                    <div class="rounded-3xl overflow-hidden h-72 bg-slate-800 border border-white/5 shadow-2xl relative group">
                        <img id="m-image" src="" alt="元素照片" class="object-cover w-full h-full transition-transform duration-1000 group-hover:scale-110" onerror="handleImgError(this)">
                        <div class="absolute inset-0 bg-gradient-to-t from-slate-900/60 to-transparent"></div>
                    </div>

                    <div class="space-y-8">
                        <section>
                            <h3 class="text-indigo-400 text-[10px] font-black uppercase tracking-widest mb-4 flex items-center">
                                <span class="w-12 h-[1px] bg-indigo-500 mr-3"></span> 電子組態 (Configuration)
                            </h3>
                            <p id="m-electron" class="text-4xl font-mono font-bold text-white tracking-tighter"></p>
                        </section>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <div class="bg-white/5 p-6 rounded-3xl">
                                <h4 class="text-emerald-400 text-[10px] font-bold uppercase mb-2">物理性質</h4>
                                <p id="m-physical" class="text-sm text-slate-300 leading-relaxed"></p>
                            </div>
                            <div class="bg-white/5 p-6 rounded-3xl">
                                <h4 class="text-rose-400 text-[10px] font-bold uppercase mb-2">化學性質</h4>
                                <p id="m-chemical" class="text-sm text-slate-300 leading-relaxed"></p>
                            </div>
                        </div>

                        <section class="bg-amber-400/5 p-6 rounded-3xl border border-amber-400/10">
                            <h3 class="text-amber-400 text-[10px] font-bold uppercase tracking-widest mb-3">生活應用與發現</h3>
                            <p id="m-apps" class="text-slate-300 text-sm leading-relaxed italic"></p>
                        </section>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 維基百科最穩定的第一張圖名稱對照表
        const wikiImages = {
            1: "Hydrogen_discharge_tube.jpg",
            2: "Helium_discharge_tube.jpg",
            3: "Lithium_element.jpg",
            4: "Beryllium nuggets 2.jpg",
            5: "Boron (B).jpg",
            6: "Diamond-and-graphite-with-scale.jpg",
            7: "Liquid_nitrogen_2.jpg",
            8: "Liquid_oxygen_in_a_beaker_4.jpg",
            9: "Fluorine_sample.jpg",
            10: "Neon_discharge_tube.jpg",
            11: "Na_2.jpg",
            12: "Magnesium_crystals.jpg",
            13: "Aluminium-4.jpg",
            14: "SiliconCroda.jpg",
            15: "Phosphorus-allotropes.jpg",
            16: "Sulfur-sample.jpg",
            17: "Chlorine_gas.jpg",
            18: "Argon_discharge_tube.jpg",
            19: "Potassium.jpg",
            20: "Calcium_1.jpg",
            21: "Scandium_sublimed_dendrites_and_1cm3_cube.jpg",
            22: "Titanium_crystal_bar_and_1cm3_cube.jpg",
            23: "Vanadium_crystal_bar_and_1cm3_cube.jpg",
            24: "Chromium_crystals_and_1cm3_cube.jpg",
            25: "Manganese_electrolytic_and_1cm3_cube.jpg",
            26: "Iron_electrolytic_and_1cm3_cube.jpg",
            27: "Cobalt_electrolytic_and_1cm3_cube.jpg",
            28: "Nickel_ch_piece.jpg",
            29: "Cu-sheet-eroded-1.jpg",
            30: "Zinc_fragment_sublimed_and_1cm3_cube.jpg",
            47: "Silver_crystal.jpg",
            50: "Beta_tin_crystalline_fragment_and_1cm3_cube.jpg",
            74: "Tungsten_rods.jpg",
            78: "Platinum_crystals.jpg",
            79: "Gold_nugget_3.jpg",
            80: "Mercury_1.jpg",
            82: "Lead_electrolytic_and_1cm3_cube.jpg",
            92: "Uranium_Nature_Magazine_No_2671_Vol_106_Oct_7_1920.jpg"
        };

        const configs = ["","1s¹","1s²","[He] 2s¹","[He] 2s²","[He] 2s² 2p¹","[He] 2s² 2p²","[He] 2s² 2p³","[He] 2s² 2p⁴","[He] 2s² 2p⁵","[He] 2s² 2p⁶","[Ne] 3s¹","[Ne] 3s²","[Ne] 3s² 3p¹","[Ne] 3s² 3p²","[Ne] 3s² 3p³","[Ne] 3s² 3p⁴","[Ne] 3s² 3p⁵","[Ne] 3s² 3p⁶","[Ar] 4s¹","[Ar] 4s²","[Ar] 3d¹ 4s²","[Ar] 3d² 4s²","[Ar] 3d³ 4s²","[Ar] 3d⁵ 4s¹","[Ar] 3d⁵ 4s²","[Ar] 3d⁶ 4s²","[Ar] 3d⁷ 4s²","[Ar] 3d⁸ 4s²","[Ar] 3d¹⁰ 4s¹","[Ar] 3d¹⁰ 4s²","[Ar] 3d¹⁰ 4s² 4p¹","[Ar] 3d¹⁰ 4s² 4p²","[Ar] 3d¹⁰ 4s² 4p³","[Ar] 3d¹⁰ 4s² 4p⁴","[Ar] 3d¹⁰ 4s² 4p⁵","[Ar] 3d¹⁰ 4s² 4p⁶","[Kr] 5s¹","[Kr] 5s²","[Kr] 4d¹ 5s²","[Kr] 4d² 5s²","[Kr] 4d⁴ 5s¹","[Kr] 4d⁵ 5s¹","[Kr] 4d⁵ 5s²","[Kr] 4d⁷ 5s¹","[Kr] 4d⁸ 5s¹","[Kr] 4d¹⁰","[Kr] 4d¹⁰ 5s¹","[Kr] 4d¹⁰ 5s²","[Kr] 4d¹⁰ 5s² 5p¹","[Kr] 4d¹⁰ 5s² 5p²","[Kr] 4d¹⁰ 5s² 5p³","[Kr] 4d¹⁰ 5s² 5p⁴","[Kr] 4d¹⁰ 5s² 5p⁵","[Kr] 4d¹⁰ 5s² 5p⁶","[Xe] 6s¹","[Xe] 6s²","[Xe] 5d¹ 6s²","[Xe] 4f¹ 5d¹ 6s²","[Xe] 4f³ 6s²","[Xe] 4f⁴ 6s²","[Xe] 4f⁵ 6s²","[Xe] 4f⁶ 6s²","[Xe] 4f⁷ 6s²","[Xe] 4f⁷ 5d¹ 6s²","[Xe] 4f⁹ 6s²","[Xe] 4f¹⁰ 6s²","[Xe] 4f¹¹ 6s²","[Xe] 4f¹¹ 6s²","[Xe] 4f¹³ 6s²","[Xe] 4f¹⁴ 6s²","[Xe] 4f¹⁴ 5d¹ 6s²","[Xe] 4f¹⁴ 5d² 6s²","[Xe] 4f¹⁴ 5d³ 6s²","[Xe] 4f¹⁴ 5d⁴ 6s²","[Xe] 4f¹⁴ 5d⁵ 6s²","[Xe] 4f¹⁴ 5d⁶ 6s²","[Xe] 4f¹⁴ 5d⁷ 6s²","[Xe] 4f¹⁴ 5d⁹ 6s¹","[Xe] 4f¹⁴ 5d¹⁰ 6s¹","[Xe] 4f¹⁴ 5d¹⁰ 6s²","[Xe] 4f¹⁴ 5d¹⁰ 6s² 6p¹","[Xe] 4f¹⁴ 5d¹⁰ 6s² 6p²","[Xe] 4f¹⁴ 5d¹⁰ 6s² 6p³","[Xe] 4f¹⁴ 5d¹⁰ 6s² 6p⁴","[Xe] 4f¹⁴ 5d¹⁰ 6s² 6p⁵","[Xe] 4f¹⁴ 5d¹⁰ 6s² 6p⁶","[Rn] 7s¹","[Rn] 7s²","[Rn] 6d¹ 7s²","[Rn] 6d² 7s²","[Rn] 5f² 6d¹ 7s²","[Rn] 5f³ 6d¹ 7s²","[Rn] 5f⁴ 6d¹ 7s²","[Rn] 5f⁶ 7s²","[Rn] 5f⁷ 7s²","[Rn] 5f⁷ 6d¹ 7s²","[Rn] 5f⁹ 7s²","[Rn] 5f¹⁰ 7s²","[Rn] 5f¹¹ 7s²","[Rn] 5f¹² 7s²","[Rn] 5f¹³ 7s²","[Rn] 5f¹⁴ 7s²","[Rn] 5f¹⁴ 6d¹ 7s²","[Rn] 5f¹⁴ 6d² 7s²","[Rn] 5f¹⁴ 6d³ 7s²","[Rn] 5f¹⁴ 6d⁴ 7s²","[Rn] 5f¹⁴ 6d⁵ 7s²","[Rn] 5f¹⁴ 6d⁶ 7s²","[Rn] 5f¹⁴ 6d⁷ 7s²","[Rn] 5f¹⁴ 6d⁸ 7s²","[Rn] 5f¹⁴ 6d¹⁰ 7s¹","[Rn] 5f¹⁴ 6d¹⁰ 7s²","[Rn] 5f¹⁴ 6d¹⁰ 7s² 7p¹","[Rn] 5f¹⁴ 6d¹⁰ 7s² 7p²","[Rn] 5f¹⁴ 6d¹⁰ 7s² 7p³","[Rn] 5f¹⁴ 6d¹⁰ 7s² 7p⁴","[Rn] 5f¹⁴ 6d¹⁰ 7s² 7p⁵","[Rn] 5f¹⁴ 6d¹⁰ 7s² 7p⁶"];

        const symbols = ["","H","He","Li","Be","B","C","N","O","F","Ne","Na","Mg","Al","Si","P","S","Cl","Ar","K","Ca","Sc","Ti","V","Cr","Mn","Fe","Co","Ni","Cu","Zn","Ga","Ge","As","Se","Br","Kr","Rb","Sr","Y","Zr","Nb","Mo","Tc","Ru","Rh","Pd","Ag","Cd","In","Sn","Sb","Te","I","Xe","Cs","Ba","La","Ce","Pr","Nd","Pm","Sm","Eu","Gd","Tb","Dy","Ho","Er","Tm","Yb","Lu","Hf","Ta","W","Re","Os","Ir","Pt","Au","Hg","Tl","Pb","Bi","Po","At","Rn","Fr","Ra","Ac","Th","Pa","U","Np","Pu","Am","Cm","Bk","Cf","Es","Fm","Md","No","Lr","Rf","Db","Sg","Bh","Hs","Mt","Ds","Rg","Cn","Nh","Fl","Mc","Lv","Ts","Og"];
        const namesZh = ["","氫","氦","鋰","鈹","硼","碳","氮","氧","氟","氖","鈉","鎂","鋁","矽","磷","硫","氯","氬","鉀","鈣","鈧","鈦","釩","鉻","錳","鐵","鈷","鎳","銅","鋅","鎵","鍺","砷","硒","溴","氪","銣","鍶","釔","鋯","鈮","鉬","鎝","釕","銠","鈀","銀","鎘","銦","錫","銻","碲","碘","氙","銫","鋇","鑭","鈰","鐠","釹","鉕","釤","銪","釓","鋱","鏑","鈥","鉺","銩","鐿","鑥","鉿","鉭","鎢","錸","鋨","銥","鉑","金","汞","鉈","鉛","鉍","釙","砈","氡","鍅","鐳","錒","釷","","鈾","錼","鈽","鋂","鋦","鉳","鉲","鑀","鐨","鍆","鍩","鐒","鑪","𨧀","𨭎","𨨏","𨭆","䥑","鐽","錀","鎶","鉨","鈇","鏌","鉝","鿬","鿫"];
        const namesEn = ["","Hydrogen","Helium","Lithium","Beryllium","Boron","Carbon","Nitrogen","Oxygen","Fluorine","Neon","Sodium","Magnesium","Aluminum","Silicon","Phosphorus","Sulfur","Chlorine","Argon","Potassium","Calcium","Scandium","Titanium","Vanadium","Chromium","Manganese","Iron","Cobalt","Nickel","Copper","Zinc","Gallium","Germanium","Arsenic","Selenium","Bromine","Krypton","Rubidium","Strontium","Yttrium","Zirconium","Niobium","Molybdenum","Technetium","Ruthenium","Rhodium","Palladium","Silver","Cadmium","Indium","Tin","Antimony","Tellurium","Iodine","Xenon","Cesium","Barium","Lanthanum","Cerium","Praseodymium","Neodymium","Promethium","Samarium","Europium","Gadolinium","Terbium","Dysprosium","Holmium","Erbium","Thulium","Ytterbium","Lutetium","Hafnium","Tantalum","Tungsten","Rhenium","Osmium","Iridium","Platinum","Gold","Mercury","Thallium","Lead","Bismuth","Polonium","Astatine","Radon","Francium","Radium","Actinium","Thorium","Protactinium","Uranium","Neptunium","Plutonium","Americium","Curium","Berkelium","Californium","Einsteinium","Fermium","Mendelevium","Nobelium","Lawrencium","Rutherfordium","Dubnium","Seaborgium","Bohrium","Hassium","Meitnerium","Darmstadtium","Roentgenium","Copernicium","Nihonium","Flerovium","Moscovium","Livermorium","Tennessine","Oganesson"];

        function getCategory(n) {
            if ([1, 6, 7, 8, 15, 16, 34].includes(n)) return "nonmetal";
            if ([2, 10, 18, 36, 54, 86, 118].includes(n)) return "noble-gas";
            if ([3, 11, 19, 37, 55, 87].includes(n)) return "alkali-metal";
            if ([4, 12, 20, 38, 56, 88].includes(n)) return "alkaline-earth";
            if ([5, 14, 32, 33, 51, 52, 85].includes(n)) return "metalloid";
            if ([9, 17, 35, 53].includes(n)) return "halogen";
            if ([13, 31, 49, 50, 81, 82, 83, 84, 113, 114, 115, 116, 117].includes(n)) return "post-transition";
            if (n >= 57 && n <= 71) return "lanthanide";
            if (n >= 89 && n <= 103) return "actinide";
            return "transition-metal";
        }

        function handleImgError(img) {
            const sym = document.getElementById('m-symbol').innerText;
            img.src = `https://placehold.co/800x600/1e293b/475569?text=${sym}+Photo+Pending`;
        }

        function initTable() {
            const mainTable = document.getElementById('main-table');
            const fTable = document.getElementById('f-block-table');
            
            const getCoords = (n) => {
                if (n === 1) return [1, 1];
                if (n === 2) return [1, 18];
                if (n >= 3 && n <= 4) return [2, n-2];
                if (n >= 5 && n <= 10) return [2, n+8];
                if (n >= 11 && n <= 12) return [3, n-10];
                if (n >= 13 && n <= 18) return [3, n];
                if (n >= 19 && n <= 36) return [4, n-18];
                if (n >= 37 && n <= 54) return [5, n-36];
                if (n >= 55 && n <= 56) return [6, n-54];
                if (n >= 72 && n <= 86) return [6, n-68];
                if (n >= 87 && n <= 88) return [7, n-86];
                if (n >= 104 && n <= 118) return [7, n-100];
                return null; // F-block
            };

            for (let r = 1; r <= 7; r++) {
                for (let c = 1; c <= 18; c++) {
                    const cell = document.createElement('div');
                    let elementNum = null;
                    for(let i=1; i<=118; i++) {
                        const co = getCoords(i);
                        if (co && co[0] === r && co[1] === c) { elementNum = i; break; }
                    }

                    if (elementNum) {
                        const cat = getCategory(elementNum);
                        cell.className = `element-card ${cat}`;
                        cell.innerHTML = `
                            <span class="absolute top-1 left-1 opacity-40 text-[9px]">${elementNum}</span>
                            <span class="text-lg font-bold">${symbols[elementNum]}</span>
                            <span class="text-[9px]">${namesZh[elementNum]}</span>
                        `;
                        cell.onclick = () => showElement(elementNum);
                    } else {
                        if (r === 6 && c === 3) { cell.className = "element-card lanthanide opacity-20 text-[8px]"; cell.innerText = "57-71"; }
                        else if (r === 7 && c === 3) { cell.className = "element-card actinide opacity-20 text-[8px]"; cell.innerText = "89-103"; }
                        else cell.style.visibility = "hidden";
                    }
                    mainTable.appendChild(cell);
                }
            }

            // F-Block 2x15
            const fNums = [...Array(15).keys()].map(x => x + 57).concat([...Array(15).keys()].map(x => x + 89));
            fNums.forEach(n => {
                const cell = document.createElement('div');
                cell.className = `element-card ${getCategory(n)}`;
                cell.innerHTML = `
                    <span class="absolute top-1 left-1 opacity-40 text-[9px]">${n}</span>
                    <span class="text-lg font-bold">${symbols[n]}</span>
                    <span class="text-[9px]">${namesZh[n]}</span>
                `;
                cell.onclick = () => showElement(n);
                fTable.appendChild(cell);
            });
        }

        function showElement(n) {
            document.getElementById('m-number').innerText = n;
            document.getElementById('m-symbol').innerText = symbols[n];
            document.getElementById('m-name-zh').innerText = namesZh[n];
            document.getElementById('m-name-en').innerText = namesEn[n];
            document.getElementById('m-electron').innerText = configs[n];
            
            // 基礎性質邏輯
            document.getElementById('m-physical').innerText = `${namesEn[n]} 在標準條件下具有其所屬區塊之典型特徵，更多數據請參閱實驗紀錄。`;
            document.getElementById('m-chemical').innerText = `其價電子排列為 ${configs[n]}，決定了該元素的化學反應活性與鍵結模式。`;
            document.getElementById('m-apps').innerText = `廣泛應用於工業材料、科學研究以及現代科技設備中，是不可或缺的化學組成。`;

            // 維基圖片連結
            const fileName = wikiImages[n] || `${namesEn[n]}_element.jpg`;
            document.getElementById('m-image').src = `https://commons.wikimedia.org/wiki/Special:FilePath/${fileName}?width=800`;

            const side = document.getElementById('modal-side');
            side.className = `w-full md:w-1/3 p-12 flex flex-col items-center justify-center text-center ${getCategory(n)} transition-all duration-700`;

            document.getElementById('modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
        }

        window.onload = initTable;
    </script>
</body>
</html>
